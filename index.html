<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Encryption App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
        body { background: #1a1a2e; color: white; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; }
        header { text-align: center; margin-bottom: 30px; padding: 20px; }
        h1 { color: #6c63ff; font-size: 2rem; }
        .panel { background: #2d2d44; padding: 20px; border-radius: 10px; margin: 20px 0; }
        textarea, input { width: 100%; padding: 10px; margin: 10px 0; background: #3a3a5d; border: 1px solid #555; color: white; border-radius: 5px; }
        button { background: #6c63ff; color: white; border: none; padding: 10px 20px; margin: 5px; border-radius: 5px; cursor: pointer; }
        button:hover { background: #5a52e0; }
        #status { padding: 10px; background: rgba(46, 204, 113, 0.2); border-radius: 5px; margin: 10px 0; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-lock"></i> Secure Encryption App</h1>
            <p>Encrypt and decrypt text locally in your browser</p>
        </header>
        
        <div id="status">Ready to encrypt...</div>
        
        <div class="panel">
            <h2><i class="fas fa-edit"></i> Encryption</h2>
            <textarea id="inputText" rows="4" placeholder="Enter text to encrypt...">This is a secret message</textarea>
            
            <input type="text" id="encryptionKey" placeholder="Encryption key" value="MySecureKey123">
            <button onclick="generateKey()"><i class="fas fa-key"></i> Generate Key</button>
            
            <div>
                <button onclick="encryptText()"><i class="fas fa-lock"></i> Encrypt</button>
                <button onclick="decryptText()"><i class="fas fa-unlock"></i> Decrypt</button>
                <button onclick="clearAll()"><i class="fas fa-trash"></i> Clear</button>
            </div>
            
            <div id="result" style="background: #3a3a5d; padding: 15px; border-radius: 5px; margin-top: 15px; min-height: 50px; font-family: monospace;">
                Results will appear here...
            </div>
        </div>
        
        <div style="background: rgba(140, 20, 50, 0.2); padding: 15px; border-radius: 8px; margin-top: 20px;">
            <h3><i class="fas fa-exclamation-triangle"></i> Security Note</h3>
            <p>All encryption happens locally in your browser. Your key never leaves your device.</p>
        </div>
    </div>

    <!-- Load the JavaScript file -->
    <script src="app.js"></script>
    
    <!-- Fallback if app.js fails to load -->
    <script>
        // Check if app.js loaded properly
        setTimeout(() => {
            if (typeof encryptText !== 'function') {
                console.error("app.js failed to load, using inline fallback");
                loadFallbackJS();
            }
        }, 1000);
        
        function loadFallbackJS() {
            // Simple fallback functions
            window.generateKey = function() {
                const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*';
                let key = '';
                for (let i = 0; i < 32; i++) {
                    key += chars.charAt(Math.floor(Math.random() * chars.length));
                }
                document.getElementById('encryptionKey').value = key;
                document.getElementById('status').textContent = 'Key generated!';
            };
            
            window.encryptText = function() {
                document.getElementById('status').textContent = 'Please load app.js for full functionality';
                document.getElementById('result').textContent = 'Error: JavaScript not loaded properly';
            };
            
            window.decryptText = function() {
                document.getElementById('status').textContent = 'Please load app.js for full functionality';
                document.getElementById('result').textContent = 'Error: JavaScript not loaded properly';
            };
            
            window.clearAll = function() {
                document.getElementById('inputText').value = '';
                document.getElementById('result').textContent = 'Results will appear here...';
                document.getElementById('status').textContent = 'Cleared!';
            };
            
            document.getElementById('status').textContent = 'Loaded basic functionality (app.js failed to load)';
        }
    </script>
</body>
</html>
