<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Encryption App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-shield-alt"></i>
                    <h1>CipherGuard</h1>
                </div>
                <p class="tagline">Military-grade encryption at your fingertips</p>
            </div>
        </header>

        <!-- Status Panel -->
        <div class="status-panel" id="status">
            <div class="status-content">
                <i class="fas fa-check-circle status-icon"></i>
                <span class="status-text">Ready to encrypt. All operations happen locally in your browser.</span>
            </div>
            <div class="status-indicator active"></div>
        </div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Input Section -->
            <section class="input-section card">
                <div class="section-header">
                    <h2><i class="fas fa-keyboard"></i> Input Text</h2>
                    <div class="character-count">
                        <span id="charCount">0</span> characters
                    </div>
                </div>
                <textarea 
                    id="inputText" 
                    class="text-input"
                    rows="5" 
                    placeholder="Enter your secret message here..."></textarea>
            </section>

            <!-- Key Management Section -->
            <section class="key-section card">
                <div class="section-header">
                    <h2><i class="fas fa-key"></i> Encryption Key</h2>
                    <button class="btn-icon" onclick="toggleKeyVisibility()" title="Show/Hide Key">
                        <i class="fas fa-eye" id="keyVisibilityIcon"></i>
                    </button>
                </div>
                <div class="key-input-group">
                    <input 
                        type="password" 
                        id="encryptionKey" 
                        class="key-input"
                        placeholder="Enter your encryption key...">
                    <button class="btn-generate" onclick="generateKey()">
                        <i class="fas fa-sync-alt"></i> Generate
                    </button>
                </div>
                <div class="key-info">
                    <div class="key-strength">
                        <span class="strength-label">Strength:</span>
                        <div class="strength-meter">
                            <div class="strength-bar" id="strengthBar"></div>
                        </div>
                        <span class="strength-text" id="strengthText">Auto-generated</span>
                    </div>
                    <div class="key-length">
                        <i class="fas fa-ruler-horizontal"></i>
                        <span id="keyLength">0</span> characters
                    </div>
                </div>
            </section>

            <!-- Action Buttons -->
            <section class="action-section">
                <div class="btn-group">
                    <button class="btn-action btn-encrypt" onclick="encryptText()">
                        <i class="fas fa-lock"></i>
                        <span>Encrypt</span>
                    </button>
                    <button class="btn-action btn-decrypt" onclick="decryptText()">
                        <i class="fas fa-unlock"></i>
                        <span>Decrypt</span>
                    </button>
                    <button class="btn-action btn-clear" onclick="clearAll()">
                        <i class="fas fa-broom"></i>
                        <span>Clear All</span>
                    </button>
                    <button class="btn-action btn-sample" onclick="loadSample()">
                        <i class="fas fa-vial"></i>
                        <span>Load Sample</span>
                    </button>
                </div>
            </section>

            <!-- Results Section -->
            <section class="results-section card">
                <div class="section-header">
                    <h2><i class="fas fa-code"></i> Results</h2>
                    <button class="btn-copy" onclick="copyResult()" title="Copy to clipboard">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                </div>
                <div class="result-output" id="result">
                    <div class="placeholder">
                        <i class="fas fa-arrow-up"></i>
                        <p>Encrypted or decrypted results will appear here</p>
                    </div>
                </div>
                <div class="result-meta">
                    <div class="meta-item">
                        <i class="fas fa-hashtag"></i>
                        <span>Output length: <span id="outputLength">0</span> chars</span>
                    </div>
                    <div class="meta-item">
                        <i class="fas fa-clock"></i>
                        <span>Processed: <span id="processTime">0</span>ms</span>
                    </div>
                </div>
            </section>

            <!-- Security Info -->
            <section class="security-info card">
                <div class="security-header">
                    <i class="fas fa-user-shield security-icon"></i>
                    <h3>Privacy & Security Guarantee</h3>
                </div>
                <div class="security-features">
                    <div class="feature">
                        <i class="fas fa-desktop feature-icon"></i>
                        <div class="feature-content">
                            <h4>Local Processing</h4>
                            <p>All encryption happens in your browser. No data is sent to servers.</p>
                        </div>
                    </div>
                    <div class="feature">
                        <i class="fas fa-fingerprint feature-icon"></i>
                        <div class="feature-content">
                            <h4>Zero Tracking</h4>
                            <p>No cookies, no analytics, no data collection of any kind.</p>
                        </div>
                    </div>
                    <div class="feature">
                        <i class="fas fa-code-branch feature-icon"></i>
                        <div class="feature-content">
                            <h4>Open Source</h4>
                            <p>Transparent codebase. Verify our security yourself.</p>
                        </div>
                    </div>
                </div>
                <div class="security-note">
                    <i class="fas fa-exclamation-circle"></i>
                    <p>Always keep your encryption key safe. If you lose it, your data cannot be recovered.</p>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="app-footer">
            <div class="footer-content">
                <div class="footer-logo">
                    <i class="fas fa-shield-alt"></i>
                    <span>CipherGuard</span>
                </div>
                <div class="footer-links">
                    <a href="#" class="footer-link">Privacy Policy</a>
                    <a href="#" class="footer-link">GitHub</a>
                    <a href="#" class="footer-link">Report Issue</a>
                </div>
                <div class="footer-copyright">
                    Â© 2024 Secure Encryption Tool. All rights reserved.
                </div>
            </div>
        </footer>
    </div>

    <!-- JavaScript -->
    <script>
        // Initialize app when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            setupEventListeners();
        });

        function initializeApp() {
            // Clear input text
            const inputText = document.getElementById('inputText');
            if (inputText) inputText.value = "";
            
            // Generate initial secure key
            const encryptionKey = document.getElementById('encryptionKey');
            if (encryptionKey) {
                const randomKey = "CipherKey-" + Math.random().toString(36).substring(2, 12);
                encryptionKey.value = randomKey;
                updateKeyMetrics(randomKey);
            }
            
            // Clear result area
            const result = document.getElementById('result');
            if (result) {
                result.innerHTML = `
                    <div class="placeholder">
                        <i class="fas fa-arrow-up"></i>
                        <p>Encrypted or decrypted results will appear here</p>
                    </div>
                `;
            }
            
            // Update status
            updateStatus('App initialized. Ready for secure encryption.', 'success');
            
            // Update character count
            updateCharCount();
        }

        function setupEventListeners() {
            const inputText = document.getElementById('inputText');
            const encryptionKey = document.getElementById('encryptionKey');
            
            if (inputText) {
                inputText.addEventListener('input', updateCharCount);
            }
            
            if (encryptionKey) {
                encryptionKey.addEventListener('input', function() {
                    updateKeyMetrics(this.value);
                });
            }
        }

        function updateCharCount() {
            const inputText = document.getElementById('inputText');
            const charCount = document.getElementById('charCount');
            if (inputText && charCount) {
                charCount.textContent = inputText.value.length;
            }
        }

        function updateKeyMetrics(key) {
            const keyLength = document.getElementById('keyLength');
            const strengthBar = document.getElementById('strengthBar');
            const strengthText = document.getElementById('strengthText');
            
            if (keyLength) keyLength.textContent = key.length;
            
            if (strengthBar && strengthText) {
                let strength = 0;
                let text = "Very Weak";
                let color = "#ef4444";
                
                if (key.length >= 32) {
                    strength = 100;
                    text = "Excellent";
                    color = "#10b981";
                } else if (key.length >= 24) {
                    strength = 75;
                    text = "Strong";
                    color = "#22c55e";
                } else if (key.length >= 16) {
                    strength = 50;
                    text = "Good";
                    color = "#eab308";
                } else if (key.length >= 8) {
                    strength = 25;
                    text = "Weak";
                    color = "#f97316";
                }
                
                strengthBar.style.width = `${strength}%`;
                strengthBar.style.backgroundColor = color;
                strengthText.textContent = text;
                strengthText.style.color = color;
            }
        }

        function toggleKeyVisibility() {
            const keyInput = document.getElementById('encryptionKey');
            const icon = document.getElementById('keyVisibilityIcon');
            
            if (keyInput.type === 'password') {
                keyInput.type = 'text';
                icon.className = 'fas fa-eye-slash';
            } else {
                keyInput.type = 'password';
                icon.className = 'fas fa-eye';
            }
        }

        function generateKey() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+-=[]{}|;:,.<>?';
            let key = 'CipherKey-';
            
            for (let i = 0; i < 24; i++) {
                key += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            
            const encryptionKey = document.getElementById('encryptionKey');
            encryptionKey.value = key;
            updateKeyMetrics(key);
            
            // Animation effect
            const btn = document.querySelector('.btn-generate');
            btn.classList.add('generating');
            setTimeout(() => btn.classList.remove('generating'), 300);
            
            updateStatus('New encryption key generated successfully', 'success');
        }

        function encryptText() {
            const input = document.getElementById('inputText').value;
            const key = document.getElementById('encryptionKey').value;
            const startTime = performance.now();
            
            if (!input.trim()) {
                updateStatus('Please enter text to encrypt', 'error');
                return;
            }
            
            if (!key.trim()) {
                updateStatus('Please enter an encryption key', 'error');
                return;
            }
            
            // Simple encryption for demo
            let encrypted = '';
            for (let i = 0; i < input.length; i++) {
                const charCode = input.charCodeAt(i) ^ key.charCodeAt(i % key.length);
                encrypted += String.fromCharCode(charCode);
            }
            
            const encodedResult = btoa(encrypted);
            const endTime = performance.now();
            
            displayResult(encodedResult, 'encrypted');
            updateProcessTime(endTime - startTime);
            updateStatus('Text encrypted successfully', 'success');
        }

        function decryptText() {
            const input = document.getElementById('inputText').value;
            const key = document.getElementById('encryptionKey').value;
            const startTime = performance.now();
            
            if (!input.trim()) {
                updateStatus('Please enter text to decrypt', 'error');
                return;
            }
            
            if (!key.trim()) {
                updateStatus('Please enter an encryption key', 'error');
                return;
            }
            
            try {
                const decodedInput = atob(input);
                let decrypted = '';
                
                for (let i = 0; i < decodedInput.length; i++) {
                    const charCode = decodedInput.charCodeAt(i) ^ key.charCodeAt(i % key.length);
                    decrypted += String.fromCharCode(charCode);
                }
                
                const endTime = performance.now();
                displayResult(decrypted, 'decrypted');
                updateProcessTime(endTime - startTime);
                updateStatus('Text decrypted successfully', 'success');
            } catch (e) {
                updateStatus('Decryption failed: Invalid encrypted text', 'error');
            }
        }

        function displayResult(text, type) {
            const result = document.getElementById('result');
            const outputLength = document.getElementById('outputLength');
            
            result.innerHTML = `
                <div class="result-content ${type}">
                    <div class="result-type">
                        <i class="fas fa-${type === 'encrypted' ? 'lock' : 'unlock'}"></i>
                        ${type === 'encrypted' ? 'Encrypted Text' : 'Decrypted Text'}
                    </div>
                    <pre class="result-text">${text}</pre>
                </div>
            `;
            
            if (outputLength) outputLength.textContent = text.length;
        }

        function updateProcessTime(time) {
            const processTime = document.getElementById('processTime');
            if (processTime) {
                processTime.textContent = Math.round(time);
            }
        }

        function clearAll() {
            document.getElementById('inputText').value = '';
            document.getElementById('encryptionKey').value = '';
            document.getElementById('result').innerHTML = `
                <div class="placeholder">
                    <i class="fas fa-arrow-up"></i>
                    <p>Encrypted or decrypted results will appear here</p>
                </div>
            `;
            
            updateCharCount();
            updateStatus('All fields cleared', 'info');
            
            // Re-initialize with new key
            setTimeout(() => {
                const randomKey = "CipherKey-" + Math.random().toString(36).substring(2, 12);
                document.getElementById('encryptionKey').value = randomKey;
                updateKeyMetrics(randomKey);
            }, 100);
        }

        function loadSample() {
            const sampleText = "This is a sample secret message that demonstrates the encryption capabilities of CipherGuard. Try encrypting this text with your key!";
            document.getElementById('inputText').value = sampleText;
            updateCharCount();
            updateStatus('Sample text loaded', 'info');
        }

        function copyResult() {
            const result = document.getElementById('result');
            const resultText = result.querySelector('.result-text');
            
            if (resultText) {
                navigator.clipboard.writeText(resultText.textContent)
                    .then(() => {
                        const btn = document.querySelector('.btn-copy');
                        btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
                        btn.classList.add('copied');
                        
                        setTimeout(() => {
                            btn.innerHTML = '<i class="fas fa-copy"></i> Copy';
                            btn.classList.remove('copied');
                        }, 2000);
                        
                        updateStatus('Result copied to clipboard', 'success');
                    })
                    .catch(err => {
                        updateStatus('Failed to copy: ' + err, 'error');
                    });
            }
        }

        function updateStatus(message, type) {
            const status = document.getElementById('status');
            const statusText = status.querySelector('.status-text');
            const statusIcon = status.querySelector('.status-icon');
            const indicator = status.querySelector('.status-indicator');
            
            statusText.textContent = message;
            
            // Update icon and color based on type
            const types = {
                success: { icon: 'fa-check-circle', color: '#10b981' },
                error: { icon: 'fa-exclamation-circle', color: '#ef4444' },
                info: { icon: 'fa-info-circle', color: '#3b82f6' },
                warning: { icon: 'fa-exclamation-triangle', color: '#f59e0b' }
            };
            
            if (types[type]) {
                statusIcon.className = `fas ${types[type].icon}`;
                indicator.style.backgroundColor = types[type].color;
            }
            
            // Add animation
            status.classList.add('updated');
            setTimeout(() => status.classList.remove('updated'), 500);
        }
    </script>
</body>
</html>
